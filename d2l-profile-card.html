<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../d2l-icons/d2l-icons.html">
<link rel="import" href="icons.html">

<dom-module id="d2l-profile-card">
	<template>
		<style>
			:host {
				width: 350px;
				height: 350px;
				border: 1px lightgray solid;
				border-radius: 7px;
				margin: 20px;
				text-align: center;
				cursor: pointer;
				display: block;
				position: relative;
			}

			.profile-card-background-container {
				width: 100%;
				height: 80px;
				z-index: -1;
				position: absolute;
				left: 0;
				top: 0;
				border-top-left-radius: 5px;
				border-top-right-radius: 5px;
				overflow: hidden;
				display: flex;
				align-items: center;
			}

			.profile-card-background {
				min-width: 100%;
				min-height: 100%;
				background-color: lightgrey;
				width: 350px;
			}

			.profile-card-avatar {
				width: 80px;
				height: 80px;
				border: 1px white solid;
				border-radius: 10px;
				display: table;
				margin: 0 auto;
				margin-top: 40px;
				background-color: white;
				overflow: hidden;
			}

			.profile-card-items {
				padding-left: 20px;
				padding-right: 20px;
				text-align: left;
			}

			[hidden] {
				display: none;
			}

			.profile-card-default-icon {
				--d2l-icon-height: 100%;
				--d2l-icon-width: 100%;
			}
			.profile-card-avatar-image {
				width: 100%;
				height: 100%;
			}
			.profile-card-grade {
				font-weight: bold;
			}
		</style>
		<div class="profile-card-background-container">
			<img src$="[[background]]" alt="" role="presentation" style$="[[_createBackgroundStyle(backgroundColor)]]" class="profile-card-background"/>
		</div>
		<div class="profile-card-avatar">
			<d2l-icon icon="navigation-48:profile" hidden$="{{!_hideCustomIcon(icon)}}" class="profile-card-default-icon"></d2l-icon>
			<img src$="[[icon]]" hidden$="{{_hideCustomIcon(icon)}}" alt="" role="presentation" class="profile-card-avatar-image"/>
		</div>
		<h3 class="profile-card-name">[[name]]</h3>
		<p hidden="[[grade]]" class="profile-card-school">[[school]]</p>
		<p hidden="[[!grade]]" class="profile-card-school"><span class="profile-card-grade">[[grade]]</span> <span>-</span> <span>[[school]]</span></p>
		<div class="profile-card-items">
			<slot></slot>
		</div>
	</template>
	<script>
	'use strict';

	Polymer({
		is: 'd2l-profile-card',
		properties: {
			background: String,
			backgroundColor: String,
			grade: { type: String, value: null },
			icon: String,
			name: String,
			school: String
		},
		_hideCustomIcon: function(icon) {
			return !icon;
		},
		_createBackgroundStyle: function(backgroundColor) {
			return backgroundColor ? "background-color: " + backgroundColor  + ";" : "";
		}
	});
	</script>
</dom-module>
